<turbo-frame id="turbo_request_<%= dom_id order %>">
    <div class="even:bg-green-50 odd:bg-green-250">
        <%= form_with url: "updatestatus", method: :post do |form| %> 
            <% if flash.notice %>
                <div id="flashNotice" data-filter-target='requestNotice' style="color: green"><%= flash.notice %></div>
            <% else %>
                <div id="flashNotice" data-filter-target='requestNotice' style="color: red"><%= flash.alert %></div>
            <% end %>
            <div id="<%= dom_id order %>" 
                data-brewster-target="order" 
                data-status="<%= order.status %>"
                data-drink="<%= order.drink %>"
                class="flex items-center">
                
                <%= form.text_area :id, size: "10x1", class: "hidden", :data => { :filter_target => 'orderId' }, value: order.id %>
                
                <div class="hidden w-1/12 break-normal block font-medium mb-1">
                <%= order.id %>
                </div>
                
                <div class="w-4/12 break-normal block font-medium mb-1">
                <%= order.person.name %>
                </div>

                <%= form.text_area :orderDrink, size: "40x1", class: "hidden", :data => { :filter_target => 'orderDrink' }, value: order.drink %>                
                <div class="w-4/12 break-normal block font-medium mb-1">
                <%= order.drink %>
                </div>

                <div class="w-1/12 break-normal block font-medium mb-1">
                    <%= order.status %>
                </div>  

                <div class="flex w-full">
                    <% if order.status != "cancelled" %>
                        <% if order.status == "new" %>
                            <%= form.submit "setNew",    disabled: true, value: "new", class:"w-2/6 mx-1 bg-blue-800 border-white border-4 rounded-full text-white font-bold py-1 px-4", :data => { :filter_target => 'setNew'} %>
                        <% else %>
                            <%= form.submit "setNew",    class:"w-2/6 mx-1 bg-blue-200 border-white border-4 rounded-full hover:bg-blue-700 text-white font-bold py-1 px-4", :data => { :filter_target => 'setNew'} %>  
                        <% end %>

                        <% if order.status == "ready" %>
                            <%= form.submit "setReady",    disabled: true, value: "ready", class:"w-2/6 mx-1 bg-green-800 border-white border-4 rounded-full text-white font-bold py-1 px-4", :data => { :filter_target => 'setReady'} %>
                        <% else %>
                            <%= form.submit "setReady",    class:"w-2/6 mx-1 bg-green-200 border-white border-4 rounded-full hover:bg-green-700 text-white font-bold py-1 px-4", :data => { :filter_target => 'setReady'} %>  
                        <% end %>

                        <% if order.status == "done" %>
                            <%= form.submit "setDone",    disabled: true, value: "done", class:"w-2/6 mx-1 bg-slate-800 border-white border-4 rounded-full text-white font-bold py-1 px-4", :data => { :filter_target => 'setDone'} %>
                        <% else %>
                            <%= form.submit "setDone",    class:"w-2/6 mx-1 bg-slate-200 border-white border-4 rounded-full hover:bg-slate-700 text-white font-bold py-1 px-4", :data => { :filter_target => 'setDone'} %>  
                        <% end %>
                    <% else %>
                        <%= form.submit "doDelete", value: "delete", class:"w-2/6 mx-1 bg-red-500 border-white border-4 rounded-full hover:bg-red-800 text-white font-bold py-1 px-4", :data => { :filter_target => 'doDelete'} %>
                    <% end %>
                </div>
            </div>
        <% end %>
    </div>
</turbo-frame>
    
    